/* --- Estilos para la Lista de Subtareas --- */
div[data-issuefieldid="subtasks"] {
  margin-top: 6px;
  width: 100%;
  box-sizing: border-box;
}

.subtask-list {
  list-style-type: none;
  padding: 0;
  margin: 0;
  font-size: 12px;
}

.subtask-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 3px 0;
  border-bottom: 1px solid #EEE;
  line-height: 1.4;
  min-height: 22px;
}


.subtask-item-main {
  display: flex;
  align-items: center;
  flex-grow: 1;
  min-width: 0;
  margin-right: 8px;
}

.subtask-issuetype-icon {
  width: 16px;
  height: 16px;
  margin-right: 5px;
  flex-shrink: 0;
}

.subtask-title-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.subtask-item-details {
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.subtask-status {
  white-space: nowrap;
  margin-right: 8px;
  color: #5E6C84;
}

.subtask-avatar {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  background-color: #DFE1E6;
}

.default-assignee-icon {
  color: #505F79;
}

.default-assignee-icon svg {
  width: 60%;
  height: 60%;
  display: block;
}


/* --- Estilos para Colapso Horizontal de Columnas (con animación) --- */

/* Aseguramos que la cabecera sea un contexto de posicionamiento */
div[data-testid="platform-board-kit.common.ui.column-header.header.column-header-container"] {
  position: relative; 
}

/* Contenedor principal de la columna */
div[data-component-selector="platform-board-kit.ui.column.draggable-column"] {
  position: relative;
  overflow: hidden;
}

/* El botón para colapsar/expandir */
.horizontal-collapse-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  border-radius: 3px;
  display: flex;
  align-items: center;
  justify-content: center;
  
  /* Posicionamiento absoluto respecto a la columna principal */
  position: absolute;
  top: 10px; /* Distancia desde la parte superior de la columna */
  right: 5px;  /* Distancia desde la parte derecha de la columna */
  z-index: 10;
}


.horizontal-collapse-btn:hover { background-color: rgba(9, 30, 66, 0.13); }
.horizontal-collapse-btn svg { width: 16px; height: 16px; color: #5E6C84; fill: currentColor; }
.horizontal-collapse-btn .icon-expand { display: none; }
.horizontal-collapse-btn .icon-collapse { display: block; }

/* El título vertical que se muestra cuando está colapsado */
.vertical-column-title {
  display: block; /* Siempre está en el DOM, controlamos su visibilidad con opacidad */
  opacity: 0;     /* Oculto por defecto */
  visibility: hidden;
  position: absolute; top: 50px; left: 12px;
  writing-mode: vertical-rl; text-orientation: mixed; white-space: nowrap;
  font-size: 14px; font-weight: 500; color: #42526E;
  max-height: calc(100% - 60px); overflow: hidden; text-overflow: ellipsis;
  text-transform: uppercase;
}

/* Contenido original de la columna (cabecera y tarjetas) */
.original-header-content-wrapper,
.horizontally-collapsible-card-list {
  /* Transición suave para desvanecerse */
  opacity: 1;
  visibility: visible;
}


/* --- ESTADO COLAPSADO --- */

.is-horizontally-collapsed {
  width: 40px !important;
  min-width: 40px !important;
  cursor: pointer;
}

/* Ocultar el contenido original con una animación de desvanecimiento */
.is-horizontally-collapsed .original-header-content-wrapper,
.is-horizontally-collapsed .horizontally-collapsible-card-list {
  opacity: 0;
  visibility: hidden;
  /* Transición más rápida al ocultar */
}

/* Mostrar el título vertical cuando está colapsado */
.is-horizontally-collapsed .vertical-column-title {
  opacity: 1;
  visibility: visible;
}

/* Cambiar el icono del botón cuando está colapsado */
.is-horizontally-collapsed .horizontal-collapse-btn .icon-expand { display: block; }
.is-horizontally-collapsed .horizontal-collapse-btn .icon-collapse { display: none; }